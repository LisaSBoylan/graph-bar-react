{"ast":null,"code":"import _classCallCheck from \"/home/lboylan/Documents/Homework/HW3/graph-bar/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/lboylan/Documents/Homework/HW3/graph-bar/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/lboylan/Documents/Homework/HW3/graph-bar/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/lboylan/Documents/Homework/HW3/graph-bar/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/lboylan/Documents/Homework/HW3/graph-bar/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/lboylan/Documents/Homework/HW3/graph-bar/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Bar from './Components/Bar/Bar.js';\nimport Graph from './Components/Graph/Graph.js';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      baseCode: \"USD\",\n      rates: [] // Add data during initial page load. Kind of likke constructor\n\n    };\n\n    _this.componentDidMount = function () {\n      console.log(\"In did Mount and State:\", _this.state);\n\n      _this.getData();\n    };\n\n    _this.onBaseCodeChange = function (ev) {\n      _this.setState({\n        baseCode: ev.target.value\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n\n    /* Failed\n          <h1 className=\"Title\"> Currency</h1>\n          <h2 className=\"BaseValue\">Base Currency:</h2>\n          <select basecode={this.baseCode} className=\"BaseCode\" onChange={this.onBaseCodeChange}>\n            <option value=\"USA\">USA</option>\n            <option value=\"AUD\">AUD</option>\n            <option value=\"SGD\">SGD</option>\n            <option value=\"EUR\">EUR</option>\n          </select>\n          <Graph>\n            this.state.rates.map((values, indx)=>{\n              <Bar\n              style={idx} \n              title={idx}\n              symbol={idx} \n              />\n          })\n          </Graph>\n        </div>\n        );\n      }\n    */\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"Title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \" Currency\"), React.createElement(\"h2\", {\n        className: \"BaseValue\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Base Currency:\"), React.createElement(\"select\", {\n        basecode: this.baseCode,\n        className: \"BaseCode\",\n        onChange: this.onBaseCodeChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"USA\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"USA\"), React.createElement(\"option\", {\n        value: \"AUD\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"AUD\"), React.createElement(\"option\", {\n        value: \"SGD\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"SGD\"), React.createElement(\"option\", {\n        value: \"EUR\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"EUR\")), React.createElement(Graph, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, this.state.rates.map(function (d, idx) {\n        var barStyle = d.barStyle;\n        return React.createElement(Bar, {\n          key: idx,\n          style: barStyle //         style= {this.getStyle()}\n          ,\n          title: d.countryCode,\n          symbol: d.monetarySymbol,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        });\n      })));\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var _this2 = this;\n\n      console.log(\"In GetData\");\n      fetch(\"https://api.exchangeratesapi.io/latest?base=USD&symbols=BGN,GBP,AUD,EUR\").then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"Got Data\");\n        console.log(\"Data=\", data);\n        console.log(\"Rates=\", data.rates);\n\n        _this2.buildData(data.rates);\n      });\n      /*       \n             /* Not working\n              // 404\n              if (!data.main) {\n                this.setState({\n                  location: \"Not found.\",\n                });\n                return;\n              }\n      */\n    }\n  }, {\n    key: \"buildData\",\n    value: function buildData(rates) {\n      console.log(\"In buildData\");\n      console.log(\"Rates=\", rates);\n      var arrData = [];\n\n      var _arr = Object.keys(rates);\n\n      for (var _i = 0; _i < _arr.length; _i++) {\n        var key = _arr[_i];\n        console.log(\"in loop to get rates\");\n        var value = rates[key];\n        console.log(\"value=\", value); //Check for properties from prototype chain   \n\n        if (rates.hasOwnProperty(key)) {\n          var newData = {\n            barStyle: \"\",\n            countryCode: \"\",\n            monetarySymbol: \"$\"\n          }; //not a property from prototype chain\n          // format value to be x.xx\n\n          var formatValue = parseFloat(value).toFixed(2) * 30;\n          console.log(\"formatValue=\", formatValue); // format the HTML style attribute\n\n          var height = formatValue + '%';\n          console.log(\"height=\", height);\n          console.log(\"key=\", key); //            newData.barStyle=height;\n\n          newData.barStyle = {\n            height: formatValue + '%'\n          };\n          newData.countryCode = key;\n          newData.monetarySymbol = '$';\n          console.log(\"newData=\", newData);\n          arrData.push(JSON.stringify(newData));\n        }\n      } // Modify State\n\n\n      console.log(\"arrData=\", arrData);\n      this.setState({\n        rates: arrData\n      });\n    }\n    /*\n    getSelect()\n    {\n        // Create a query string by setting the new baseCode and removing new base from comparator\n        console.log(\"In GetSelect\");\n        \n        // Currently displayed currencies;\n        let symbols = [\"BGN\", \"SGD\", \"AUD\", \"EUR\", \"USD\"];\n        let comparator = \"BGN,SGD,AUD,EUR,USD\";\n        \n        \n        // Get the requested base currency\n        //const baseCode = document.getElementById(\"BaseCode\").value;\n        console.log(\"New Base Code:\", this.baseCode);\n        \n        \n        let i = 0;\n        while ((symbols[i++].valueOf() !== this.baseCode) && ( i < symbols.length))  // find the code in symbols\n        {}\n        \n        i--;  // reposition counter to found item\n        if (symbols[i] === this.baseCode)\n        {\n            comparator = symbols.splice(i,1);  // remmove elemment\n        }\n        console.log(\"symbols:\", comparator);\n        \n        let fetchString='https://api.exchangeratesapi.io/2018-11-01?base=' + this.baseCode + \"&symbols=\" + symbols;\n        \n        // Make request\n        fetch(fetchString)\n         .then(response => response.json())\n         .then ( (data) => {\n               console.log(\"Got Data\");\n               console.log(data);\n               this.buildData(data.rates);\n           });\n    }\n    \n    */\n\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/lboylan/Documents/Homework/HW3/graph-bar/src/App.js"],"names":["React","Component","Bar","Graph","App","state","baseCode","rates","componentDidMount","console","log","getData","onBaseCodeChange","ev","setState","target","value","map","d","idx","barStyle","countryCode","monetarySymbol","fetch","then","response","json","data","buildData","arrData","Object","keys","key","hasOwnProperty","newData","formatValue","parseFloat","toFixed","height","push","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\n\n\nimport Bar from './Components/Bar/Bar.js'\nimport Graph from './Components/Graph/Graph.js'\n\nclass App extends Component {\n/* Debug\nstate = {\n  baseCode:\"USD\",\n  rates:[\n  {\n    barStyle: {height:'51.6em'}, \n    countryCode: \"BGN\",\n    monetarySymbol:\"$\",     \n  },\n  {\n    barStyle: '3%', \n    countryCode: \"GBP\",\n    monetarySymbol:\"$\",     \n  },\n  {\n    barStyle: '{height:\"1.4%\"}', \n    countryCode: \"AUD\",\n    monetarySymbol:\"$\",     \n  },\n  {\n    barStyle: {height:\"90.4%\"}, \n    countryCode: \"EUR\",\n    monetarySymbol:\"$\",     \n  },\n   {\n    barStyle: \"90%\", \n    countryCode: \"GDP\",\n    monetarySymbol:\"$\",     \n  }\n  ],\n}\n\n*/\n\nstate = {\n  baseCode:\"USD\",\n  rates:[],\n}\n\n\n  // Add data during initial page load. Kind of likke constructor\n    componentDidMount = () => {\n    console.log(\"In did Mount and State:\", this.state);\n    this.getData();\n  }\n\n/* Failed\n      <h1 className=\"Title\"> Currency</h1>\n      <h2 className=\"BaseValue\">Base Currency:</h2>\n      <select basecode={this.baseCode} className=\"BaseCode\" onChange={this.onBaseCodeChange}>\n        <option value=\"USA\">USA</option>\n        <option value=\"AUD\">AUD</option>\n        <option value=\"SGD\">SGD</option>\n        <option value=\"EUR\">EUR</option>\n      </select>\n      <Graph>\n        this.state.rates.map((values, indx)=>{\n          <Bar\n          style={idx} \n          title={idx}\n          symbol={idx} \n          />\n      })\n      </Graph>\n    </div>\n    );\n  }\n*/\n\nrender() \n{\n\n    return (\n      <div>\n      <h1 className=\"Title\"> Currency</h1>\n      <h2 className=\"BaseValue\">Base Currency:</h2>\n      <select basecode={this.baseCode} className=\"BaseCode\" onChange={this.onBaseCodeChange}>\n        <option value=\"USA\">USA</option>\n        <option value=\"AUD\">AUD</option>\n        <option value=\"SGD\">SGD</option>\n        <option value=\"EUR\">EUR</option>\n      </select>\n      <Graph>      \n      {this.state.rates.map(function(d,idx){\n         const barStyle = d.barStyle;\n         return (<Bar \n         key={idx}\n         style={barStyle}\n//         style= {this.getStyle()}\n         title={d.countryCode} \n         symbol={d.monetarySymbol}/>)\n       })}\n       </Graph>\n      </div>\n    );\n  }\n  \n  onBaseCodeChange = (ev) => {\n    this.setState({\n      baseCode: ev.target.value,\n    });\n  }\n\ngetData()\n{\n    console.log(\"In GetData\");\n  \n\n     fetch(\"https://api.exchangeratesapi.io/latest?base=USD&symbols=BGN,GBP,AUD,EUR\")\n     .then(response => response.json())\n     .then ( (data) => {\n           console.log(\"Got Data\");\n           console.log(\"Data=\", data);\n           console.log(\"Rates=\", data.rates);\n           this.buildData(data.rates);\n       });\n\n/*       \n       /* Not working\n        // 404\n        if (!data.main) {\n          this.setState({\n            location: \"Not found.\",\n          });\n          return;\n        }\n*/\n}\n\n\nbuildData(rates)\n{\n    console.log(\"In buildData\");\n    console.log(\"Rates=\", rates);\n    \n    let arrData = [];\n\n  \n    for (const key of Object.keys(rates))\n    {\n        console.log(\"in loop to get rates\");\n        const value = rates[key];\n        console.log(\"value=\",value);\n        \n        //Check for properties from prototype chain   \n        if (rates.hasOwnProperty(key))\n        {\n            let newData = {\n            barStyle:\"\",\n            countryCode:\"\",\n            monetarySymbol:\"$\"};\n            \n            //not a property from prototype chain\n            // format value to be x.xx\n            const formatValue = parseFloat(value).toFixed(2) * 30;\n            console.log(\"formatValue=\", formatValue);\n            // format the HTML style attribute\n            const height = formatValue + '%';\n            console.log(\"height=\",height);\n            console.log(\"key=\",key);\n            \n//            newData.barStyle=height;\n            newData.barStyle = { height: formatValue + '%'};\n            newData.countryCode=key;\n            newData.monetarySymbol='$';\n                      \n            console.log(\"newData=\", newData);  \n            arrData.push(JSON.stringify(newData));          \n        }\n    }\n    // Modify State\n    console.log(\"arrData=\", arrData);\n    this.setState({\n         rates:arrData\n     });\n}\n\n\n/*\ngetSelect()\n{\n    // Create a query string by setting the new baseCode and removing new base from comparator\n    console.log(\"In GetSelect\");\n    \n    // Currently displayed currencies;\n    let symbols = [\"BGN\", \"SGD\", \"AUD\", \"EUR\", \"USD\"];\n    let comparator = \"BGN,SGD,AUD,EUR,USD\";\n    \n    \n    // Get the requested base currency\n    //const baseCode = document.getElementById(\"BaseCode\").value;\n    console.log(\"New Base Code:\", this.baseCode);\n    \n    \n    let i = 0;\n    while ((symbols[i++].valueOf() !== this.baseCode) && ( i < symbols.length))  // find the code in symbols\n    {}\n    \n    i--;  // reposition counter to found item\n    if (symbols[i] === this.baseCode)\n    {\n        comparator = symbols.splice(i,1);  // remmove elemment\n    }\n    console.log(\"symbols:\", comparator);\n    \n    let fetchString='https://api.exchangeratesapi.io/2018-11-01?base=' + this.baseCode + \"&symbols=\" + symbols;\n    \n    // Make request\n    fetch(fetchString)\n     .then(response => response.json())\n     .then ( (data) => {\n           console.log(\"Got Data\");\n           console.log(data);\n           this.buildData(data.rates);\n       });\n}\n\n*/\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}