{"ast":null,"code":"import _classCallCheck from \"/home/lboylan/Documents/Homework/HW3/graph-bar/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/lboylan/Documents/Homework/HW3/graph-bar/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/lboylan/Documents/Homework/HW3/graph-bar/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/lboylan/Documents/Homework/HW3/graph-bar/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/lboylan/Documents/Homework/HW3/graph-bar/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/lboylan/Documents/Homework/HW3/graph-bar/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Bar from './Components/Bar/Bar.js';\nimport Graph from './Components/Graph/Graph.js';\n\nfunction buildBar(rates) {\n  console.log(\"In buildBar\");\n  var bars = [];\n\n  var _arr = Object.keys(rates);\n\n  for (var _i = 0; _i < _arr.length; _i++) {\n    var key = _arr[_i];\n    var _bar = {\n      title: \"\",\n      symbol: \"\",\n      style: \"$\"\n    }; //Check for properties from prototype chain   \n\n    if (rates.hasOwnProperty(key)) {\n      var value = rates[key]; // format value to be x.xx\n\n      var formatValue = parseFloat(value).toFixed(2) * 30; // Create a bar\n\n      _bar.title = key;\n      _bar.symbol = '$';\n      _bar.style = '{height:' + formatValue + '%}'; // format the JSX style height attribute          \n\n      console.log(\"bar=\", _bar);\n      var tmp = JSON.sringify(_bar);\n      console.log(\"tmp.stringify=\", tmp);\n      console.log(\"tmp.parse\", JSON.parse(tmp)); // add to array of bars\n      // Or Origin.assign?\n\n      bars.push(JSON.parse(tmp));\n      console.log(\"bars=\", bars);\n    }\n  }\n\n  return bars;\n}\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      baseCode: \"USD\",\n      bars: [] // Add data during initial page load. Kind of likke constructor\n\n    };\n\n    _this.componentDidMount = function () {\n      console.log(\"In did Mount and State:\", _this.state);\n\n      _this.getData();\n    };\n\n    _this.onBaseCodeChange = function (ev) {\n      _this.setState({\n        baseCode: ev.target.value\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"Title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \" Currency\"), React.createElement(\"h2\", {\n        className: \"BaseValue\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Base Currency:\"), React.createElement(\"select\", {\n        basecode: this.baseCode,\n        className: \"BaseCode\",\n        onChange: this.onBaseCodeChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"USA\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"USA\"), React.createElement(\"option\", {\n        value: \"AUD\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"AUD\"), React.createElement(\"option\", {\n        value: \"SGD\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"SGD\"), React.createElement(\"option\", {\n        value: \"EUR\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"EUR\")), React.createElement(Graph, {\n        className: \"Graph\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"this.state.bars.map((bar, index) => (\", React.createElement(Bar, {\n        className: \"Bar\",\n        key: index,\n        title: bar.title,\n        symbol: bar.symbol,\n        style: bar.style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), \"))\"));\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var _this2 = this;\n\n      console.log(\"In GetData\");\n      fetch(\"https://api.exchangeratesapi.io/latest?base=USD&symbols=BGN,GBP,AUD,EUR\").then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"Got Data\");\n        console.log(\"Data=\", data);\n        console.log(\"Rates=\", data.rates);\n        var results = buildBar(data.rates);\n\n        _this2.setState({\n          bars: results\n        });\n      });\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/lboylan/Documents/Homework/HW3/graph-bar/src/App.js"],"names":["React","Component","Bar","Graph","buildBar","rates","console","log","bars","Object","keys","key","bar","title","symbol","style","hasOwnProperty","value","formatValue","parseFloat","toFixed","tmp","JSON","sringify","parse","push","App","state","baseCode","componentDidMount","getData","onBaseCodeChange","ev","setState","target","index","fetch","then","response","json","data","results"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\n\n\nimport Bar from './Components/Bar/Bar.js'\nimport Graph from './Components/Graph/Graph.js'\n\nfunction buildBar(rates)\n{\n    console.log(\"In buildBar\");\n    let bars = [];\n\n        \n    for(let key of Object.keys(rates))\n    {\n        const bar = {\n              title:\"\",\n              symbol:\"\",\n              style:\"$\"\n        };\n            \n        //Check for properties from prototype chain   \n        if (rates.hasOwnProperty(key))\n        {\n\n\n            const value = rates[key];\n            \n            // format value to be x.xx\n            const formatValue = parseFloat(value).toFixed(2) * 30;\n            \n            // Create a bar\n            bar.title=key;\n            bar.symbol='$';                \n            bar.style = '{height:' + formatValue + '%}'; // format the JSX style height attribute          \n            console.log(\"bar=\", bar);  \n            const tmp=JSON.sringify(bar);\n            console.log(\"tmp.stringify=\", tmp); \n            console.log(\"tmp.parse\", JSON.parse(tmp));\n            \n            // add to array of bars\n            // Or Origin.assign?\n            bars.push(JSON.parse(tmp));\n            console.log(\"bars=\", bars);\n        }\n    }\n    return bars;\n}\n\n\n\nclass App extends Component \n{\n\n  state = {\n    baseCode:\"USD\",\n    bars:[],\n  }\n\n\n  // Add data during initial page load. Kind of likke constructor\n  componentDidMount = () => {\n    console.log(\"In did Mount and State:\", this.state);\n    this.getData();\n  }\n\n  render() \n  {\n\n    return (\n      <div>\n        <h1 className=\"Title\"> Currency</h1>\n        <h2 className=\"BaseValue\">Base Currency:</h2>\n        <select basecode={this.baseCode} className=\"BaseCode\" onChange={this.onBaseCodeChange}>\n          <option value=\"USA\">USA</option>\n          <option value=\"AUD\">AUD</option>\n          <option value=\"SGD\">SGD</option>\n          <option value=\"EUR\">EUR</option>\n        </select>\n        <Graph className=\"Graph\">\n        \n            this.state.bars.map((bar, index) => (\n              <Bar className=\"Bar\" key={index} title={bar.title} symbol={bar.symbol} style={bar.style} />\n            ))      \n         </Graph>\n      </div>\n    );\n  }\n\n  onBaseCodeChange = (ev) => {\n    this.setState({\n      baseCode: ev.target.value,\n    });\n  }\n\n  getData()\n  { \n    console.log(\"In GetData\");\n  \n\n     fetch(\"https://api.exchangeratesapi.io/latest?base=USD&symbols=BGN,GBP,AUD,EUR\")\n     .then(response => response.json())\n     .then ( (data) => {\n           console.log(\"Got Data\");\n           console.log(\"Data=\", data);\n           console.log(\"Rates=\", data.rates);\n           const results = buildBar(data.rates);\n           this.setState({\n              bars:results\n           });\n       });\n  } \n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}